{"ast":null,"code":"let uid = 0;\nimport { defineComponent } from 'vue';\nimport * as htmlToImage from 'html-to-image';\nimport { toPng, toJpeg, toBlob, toPixelData, toSvg } from 'html-to-image';\nimport * as download from 'downloadjs';\nexport default {\n  name: 'Card',\n  props: ['title', 'description', 'value', 'height', 'width', 'output', 'color'],\n  data() {\n    return {\n      scale: 1.0294\n    };\n  },\n  methods: {\n    appendCanvas(caption) {\n      if (this.qr) {\n        this.qr.remove(); //\n      }\n      this.qr = document.createElement(\"canvas\");\n      this.qr.setAttribute(\"draggable\", \"true\");\n      this.outputElem.appendChild(this.qr);\n      return this.qr;\n    },\n    backColor() {\n      return 'white';\n    },\n    borderColor() {\n      return this.color;\n    },\n    physicalStyle() {\n      return `padding: ${this.margin}in;\n        width: ${this.width}in;\n        padding-bottom: 0.33in;\n        height: ${this.height}in;\n        background-color: ${this.backColor()};\n        border: 20px solid ${this.borderColor()};\n        `;\n      // border: 2px solid ${this.borderColor()};\n    },\n    titleStyle() {\n      return `    margin-top: ${0.1 * this.scale}in;\n        margin-bottom: ${0.3 * this.scale}in;\n        width: ${this.width * 3 / 4}in;\n        flex-grow: 0;\n        font-size: 0.22in;\n        line-height: ${1.25 * this.scale};`;\n    },\n    descriptionStyle() {\n      return `    \n        margin: 5px;\n        margin-bottom: ${0.3 * this.scale}in;\n        width: ${this.width * 3 / 4}in;\n        font-size: 0.17in;\n        line-height: ${1.25 * this.scale};`;\n    },\n    download() {\n      var self = this;\n      htmlToImage.toPng(document.getElementById('card-' + this.unique), {\n        'canvasWidth': this.width * 1.11755725191,\n        'canvasHeight': this.height * 1.11755725191\n      }).then(function (dataUrl) {\n        download(dataUrl, 'card-' + self.title + '-' + self.unique + '-' + '.png');\n      });\n    }\n  },\n  created() {\n    this.unique = uid;\n    uid++;\n  },\n  mounted() {\n    var node = document.getElementById('box1');\n    this.outputElem = document.getElementById('qr-card-' + this.unique);\n    htmlToImage.toPng(node).then(function (dataUrl) {\n      var img = new Image();\n      img.src = dataUrl;\n      // document.body.appendChild(img);\n    }).catch(function (error) {\n      console.error('oops, something went wrong!', error);\n    });\n  },\n  watch: {\n    output: function (old, newVal) {\n      if (newVal) {\n        this.download();\n      }\n    }\n  }\n};","map":{"version":3,"names":["uid","defineComponent","htmlToImage","toPng","toJpeg","toBlob","toPixelData","toSvg","download","name","props","data","scale","methods","appendCanvas","caption","qr","remove","document","createElement","setAttribute","outputElem","appendChild","backColor","borderColor","color","physicalStyle","margin","width","height","titleStyle","descriptionStyle","self","getElementById","unique","then","dataUrl","title","created","mounted","node","img","Image","src","catch","error","console","watch","output","old","newVal"],"sources":["/git/card-gen/card-gen/src/components/Card.vue"],"sourcesContent":["<script setup lang=\"ts\"></script>\n    <template>\n        <div @click=\"download()\" :id=\"'card-' + unique\" class=\"card\" :style=\"physicalStyle()\">\n            <div class=\"qr-container\">\n                <div :id=\"'qr-card-' + unique\" style=\"image-rendering: pixelated\"></div>\n            </div>\n        </div>\n    </template>\n<style scoped>\n\n\n.card {\n    border: black 2px solid;\n    color: black;\n    flex-basis: 100%;\n    /* justify-content: center; */\n    align-items: center;\n    display: flex;\n    flex-direction: column;\n}\n\n.card :hover {\n    cursor: pointer;\n}\n\n.card-title {\n    white-space: pre-line;\n    font-weight: bold;\n    text-align: center;\n    flex-grow: 1;\n}\n\n.card-description {\n    color:  #333333;\n    font-weight: bold;\n    white-space: pre-line;\n    overflow-wrap: break-word;\n}\n\n.qr-container {\n    display: flex;\n    margin-top: 10px;\n    justify-content: center;\n    align-items: end;\n    flex-grow: 1;\n}\n</style>\n\n\n<script>\n\nlet uid = 0;\n\nimport { defineComponent } from 'vue'\n\nimport * as htmlToImage from 'html-to-image';\nimport { toPng, toJpeg, toBlob, toPixelData, toSvg } from 'html-to-image';\nimport * as download from 'downloadjs';\n\n\nexport default {\n  name: 'Card',\n  props: ['title', 'description', 'value', 'height', 'width', 'output', 'color'],\n  data() {\n      return {\n          scale: 1.0294,\n      }\n  },\n  methods: {\n    appendCanvas(caption)\n    {\n      if (this.qr) {\n        this.qr.remove() //\n      }\n      this.qr = document.createElement(\"canvas\");\n      this.qr.setAttribute(\"draggable\", \"true\")\n      this.outputElem.appendChild(this.qr);\n      return this.qr;\n    },\n    backColor()\n    {\n        return 'white';\n    },\n    borderColor()\n    {\n        return this.color;\n    },\n    physicalStyle()\n    {\n        return `padding: ${this.margin}in;\n        width: ${this.width}in;\n        padding-bottom: 0.33in;\n        height: ${this.height}in;\n        background-color: ${this.backColor()};\n        border: 20px solid ${this.borderColor()};\n        `\n        // border: 2px solid ${this.borderColor()};\n    },\n    titleStyle()\n    {\n        return `    margin-top: ${0.1*this.scale}in;\n        margin-bottom: ${0.3*this.scale}in;\n        width: ${this.width*3/4}in;\n        flex-grow: 0;\n        font-size: 0.22in;\n        line-height: ${1.25*this.scale};`\n    },\n    descriptionStyle()\n    {\n        return `    \n        margin: 5px;\n        margin-bottom: ${0.3*this.scale}in;\n        width: ${this.width*3/4}in;\n        font-size: 0.17in;\n        line-height: ${1.25*this.scale};`\n    },\n    download()\n    {\n        var self = this;\n        htmlToImage.toPng(document.getElementById('card-' + this.unique),\n                    {'canvasWidth': this.width*1.11755725191, 'canvasHeight': this.height*1.11755725191})\n            .then(function (dataUrl) {\n                (download)(dataUrl, 'card-' + self.title + '-' + self.unique + '-' + '.png');\n            });\n    }\n  },\n  created() {\n    this.unique = uid;\n    uid++\n  },\n  mounted() {\n    var node = document.getElementById('box1');\n    this.outputElem = document.getElementById('qr-card-' + this.unique);\n\n    htmlToImage.toPng(node)\n    .then(function (dataUrl) {\n        var img = new Image();\n        img.src = dataUrl;\n        // document.body.appendChild(img);\n    })\n    .catch(function (error) {\n        console.error('oops, something went wrong!', error);\n    });\n},\nwatch: {\n    output: function (old, newVal) {\n        if (newVal) {\n            this.download()\n        }\n    }\n  },\n}\n</script>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}