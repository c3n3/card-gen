{"ast":null,"code":"import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, normalizeStyle as _normalizeStyle, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-54cdc180\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = [\"src\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", {\n    onClick: _cache[0] || (_cache[0] = $event => $options.download()),\n    id: \"card\",\n    style: _normalizeStyle($options.physicalStyle())\n  }, [_createElementVNode(\"img\", {\n    src: $props.suitimage,\n    width: \"50\",\n    height: \"50\",\n    class: \"suit\"\n  }, null, 8 /* PROPS */, _hoisted_1), _createTextVNode(\" Position: \" + _toDisplayString($options.position()), 1 /* TEXT */)], 4 /* STYLE */);\n}","map":{"version":3,"names":["_createElementBlock","onClick","_cache","$event","$options","download","id","style","_normalizeStyle","physicalStyle","_createElementVNode","src","$props","suitimage","width","height","class","_hoisted_1","_createTextVNode","_toDisplayString","position"],"sources":["/git/card-gen/card-gen/src/components/Card.vue"],"sourcesContent":["<script setup lang=\"ts\"></script>\n<template>\n    <div @click=\"download()\" id=\"card\" :style=\"physicalStyle()\">\n        <img :src=\"suitimage\" width=\"50\" height=\"50\" class=\"suit\" />\n        Position: {{ position() }}\n    </div>\n</template>\n<style scoped>\n.suit {\n    position: absolute;\n    top: 0px;\n    left: 0px;\n}\n\n.card :hover {\n    cursor: pointer;\n}\n\n.card-title {\n    white-space: pre-line;\n    font-weight: bold;\n    text-align: center;\n    flex-grow: 1;\n}\n\n.card-description {\n    color: #333333;\n    font-weight: bold;\n    white-space: pre-line;\n    overflow-wrap: break-word;\n}\n\n.qr-container {\n    display: flex;\n    margin-top: 10px;\n    justify-content: center;\n    align-items: end;\n    flex-grow: 1;\n}\n</style>\n\n\n<script>\n\nlet uid = 0;\n\nimport { defineComponent } from 'vue'\n\nimport * as htmlToImage from 'html-to-image';\nimport * as download from 'downloadjs';\n\n\nexport default {\n    name: 'Card',\n    props: ['value', 'height', 'width', 'suitimage'],\n    data() {\n        return {\n            scale: 1.0294,\n            backColor: \"white\",\n            borderColor: \"black\",\n            margin: 0.1,\n            unique: 1,\n            pos: 1,\n        }\n    },\n    methods: {\n        appendCanvas(caption) {\n            if (this.qr) {\n                this.qr.remove()\n            }\n            this.qr = document.createElement(\"canvas\");\n            this.qr.setAttribute(\"draggable\", \"true\")\n            this.outputElem.appendChild(this.qr);\n            return this.qr;\n        },\n        physicalStyle() {\n            return `width: ${this.width}mm;\n        height: ${this.height}mm;\n        `\n            // border: 2px solid ${this.borderColor()};\n        },\n        download() {\n            var self = this;\n            console.log(this.getAbsPos())\n            htmlToImage.toPng(document.getElementById('card-' + this.unique),\n                { 'canvasWidth': 1100 * 1.11755725191, 'canvasHeight': 750 * 1.11755725191 })\n                .then(function (dataUrl) {\n                    console.log(dataUrl);\n                    (download)(dataUrl, 'card-' + '-' + self.unique + '-' + '.png');\n                })\n                .catch(function (error) {\n                    console.error('oops, something went wrong!', error);\n                });\n        },\n        getAbsPos(element) {\n            var top = 0, left = 0;\n            if (!element) {\n                return \"NO POSITION\";\n            }\n            do {\n                top += element.offsetTop || 0;\n                left += element.offsetLeft || 0;\n                element = element.offsetParent;\n            } while (element);\n\n            return {\n                top: top,\n                left: left\n            };\n        },\n        position() {\n            return this.getAbsPos(document.getElementById('card-' + this.unique));\n        },\n    },\n    created() {\n        this.unique = uid;\n        uid++\n    },\n    mounted() {\n        // var node = document.getElementById('box1');\n        console.log(\"GLOT\", this.suitimage)\n        console.log(this.getAbsPos())\n\n        // htmlToImage.toPng(node).then(function (dataUrl) {\n        //     var img = new Image();\n        //     img.src = dataUrl;\n        //     document.body.appendChild(img);\n        // })\n    },\n    watch: {\n        output: function (old, newVal) {\n            if (newVal) {\n                this.download()\n            }\n        }\n    },\n}\n</script>\n"],"mappings":";;mBAAA;;uBAEIA,mBAAA,CAGM;IAHAC,OAAK,EAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAEC,QAAA,CAAAC,QAAQ;IAAIC,EAAE,EAAC,MAAM;IAAEC,KAAK,EAF7CC,eAAA,CAE+CJ,QAAA,CAAAK,aAAa;MACpDC,mBAAA,CAA4D;IAAtDC,GAAG,EAAEC,MAAA,CAAAC,SAAS;IAAEC,KAAK,EAAC,IAAI;IAACC,MAAM,EAAC,IAAI;IAACC,KAAK,EAAC;0BAH3DC,UAAA,GAAAC,gBAAA,CAGoE,aAClD,GAAAC,gBAAA,CAAGf,QAAA,CAAAgB,QAAQ,mB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}