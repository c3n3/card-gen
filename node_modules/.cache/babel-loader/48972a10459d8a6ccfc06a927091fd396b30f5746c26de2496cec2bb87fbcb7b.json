{"ast":null,"code":"import { toDisplayString as _toDisplayString, normalizeStyle as _normalizeStyle, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-54cdc180\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = [\"id\"];\nconst _hoisted_2 = [\"src\", \"width\", \"height\"];\nconst _hoisted_3 = [\"src\", \"width\", \"height\"];\nconst _hoisted_4 = [\"src\", \"width\", \"height\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_Numbers = _resolveComponent(\"Numbers\");\n  return _openBlock(), _createElementBlock(\"div\", {\n    onClick: _cache[0] || (_cache[0] = $event => $options.download()),\n    id: 'card-' + $data.unique,\n    style: _normalizeStyle($options.physicalStyle()),\n    class: \"card\"\n  }, [_createElementVNode(\"div\", {\n    class: \"card-text\",\n    style: _normalizeStyle($options.topLetterStyle())\n  }, _toDisplayString($props.value), 5 /* TEXT, STYLE */), _createElementVNode(\"div\", {\n    class: \"card-text\",\n    style: _normalizeStyle($options.bottomLetterStyle())\n  }, _toDisplayString($props.value), 5 /* TEXT, STYLE */), $props.suitimage ? (_openBlock(), _createElementBlock(\"img\", {\n    key: 0,\n    src: $props.suitimage,\n    width: $options.mmToPx(this.suitwidth),\n    height: $options.mmToPx(this.suitwidth),\n    class: \"suit\",\n    style: _normalizeStyle($options.topSuitStyle())\n  }, null, 12 /* STYLE, PROPS */, _hoisted_2)) : _createCommentVNode(\"v-if\", true), $props.suitimage ? (_openBlock(), _createElementBlock(\"img\", {\n    key: 1,\n    src: $props.suitimage,\n    width: $options.mmToPx(this.suitwidth),\n    height: $options.mmToPx(this.suitwidth),\n    class: \"suit\",\n    style: _normalizeStyle($options.bottomSuitStyle())\n  }, null, 12 /* STYLE, PROPS */, _hoisted_3)) : _createCommentVNode(\"v-if\", true), $props.backimage ? (_openBlock(), _createElementBlock(\"img\", {\n    key: 2,\n    src: $props.backimage,\n    width: $options.mmToPx(this.width),\n    height: $options.mmToPx(this.height),\n    style: _normalizeStyle($options.backimageStyle())\n  }, null, 12 /* STYLE, PROPS */, _hoisted_4)) : _createCommentVNode(\"v-if\", true), _createVNode(_component_Numbers, {\n    x: $options.numberBoxX(),\n    y: $options.numberBoxY(),\n    suitimage: $props.suitimage,\n    number: $props.value,\n    width: $props.numberboxwidth,\n    height: $props.numberboxheight,\n    imagewidth: this.suitwidth * this.numberscale\n  }, null, 8 /* PROPS */, [\"x\", \"y\", \"suitimage\", \"number\", \"width\", \"height\", \"imagewidth\"])], 12 /* STYLE, PROPS */, _hoisted_1);\n}","map":{"version":3,"names":["_createElementBlock","onClick","_cache","$event","$options","download","id","$data","unique","style","_normalizeStyle","physicalStyle","class","_createElementVNode","topLetterStyle","$props","value","bottomLetterStyle","suitimage","key","src","width","mmToPx","suitwidth","height","topSuitStyle","_hoisted_2","_createCommentVNode","bottomSuitStyle","_hoisted_3","backimage","backimageStyle","_hoisted_4","_createVNode","_component_Numbers","x","numberBoxX","y","numberBoxY","number","numberboxwidth","numberboxheight","imagewidth","numberscale","_hoisted_1"],"sources":["/git/card-gen/card-gen/src/components/Card.vue"],"sourcesContent":["<script setup lang=\"ts\"></script>\n<template>\n    <div @click=\"download()\" :id=\"'card-' + unique\" :style=\"physicalStyle()\" class=\"card\">\n        <div class=\"card-text\" :style=\"topLetterStyle()\">{{ value }}</div>\n        <div class=\"card-text\" :style=\"bottomLetterStyle()\">{{ value }}</div>\n        <img v-if=\"suitimage\" :src=\"suitimage\" :width=\"mmToPx(this.suitwidth)\" :height=\"mmToPx(this.suitwidth)\" class=\"suit\" :style=\"topSuitStyle()\"/>\n        <img v-if=\"suitimage\" :src=\"suitimage\" :width=\"mmToPx(this.suitwidth)\" :height=\"mmToPx(this.suitwidth)\" class=\"suit\" :style=\"bottomSuitStyle()\"/>\n        <img v-if=\"backimage\" :src=\"backimage\" :width=\"mmToPx(this.width)\" :height=\"mmToPx(this.height)\" :style=\"backimageStyle()\"/>\n        <Numbers :x=\"numberBoxX()\" :y=\"numberBoxY()\" :suitimage=\"suitimage\" :number=\"value\" :width=\"numberboxwidth\" :height=\"numberboxheight\" :imagewidth=\"this.suitwidth * this.numberscale\"></Numbers>\n    </div>\n</template>\n<style scoped>\n.card {\n    font-family: \"Comic Sans MS\", \"Comic Sans\", cursive;\n    position: relative;\n}\n.card :hover {\n    cursor: pointer;\n}\n\n.card-title {\n    white-space: pre-line;\n    font-weight: bold;\n    text-align: center;\n    flex-grow: 1;\n}\n</style>\n\n\n<script>\n\nlet uid = 0;\nimport Numbers from './Numbers.vue'\n\nimport { defineComponent } from 'vue'\n\nimport * as htmlToImage from 'html-to-image';\nimport * as download from 'downloadjs';\n\nexport default {\n    name: 'Card',\n    components: {\n        Numbers\n    },\n    props: [\n        'value',\n        'color',\n        'height',\n        'width',\n        'suitimage',\n        'backimage',\n        'suitoffsetx',\n        'suitoffsety',\n        \"letteroffsetx\",\n        \"letteroffsety\",\n        \"letterheight\",\n\n        // For cards 2 - 10\n        \"numberboxwidth\",\n        \"numberboxheight\",\n        \"numberxspread\",\n        \"numberyspread\",\n        \"numberscale\",\n\n        \"acescale\",\n\n        \"suitwidth\",\n\n        \"output\"\n    ],\n    data() {\n        return {\n            scale: 1.0294,\n            unique: 1,\n            pos: {x: 0, y: 0},\n        }\n    },\n    methods: {\n        physicalStyle() {\n            return `width: ${this.width}mm;\n                    height: ${this.height}mm;\n                    color: ${this.color};\n        `\n        },\n        download() {\n            var self = this;\n            htmlToImage.toPng(document.getElementById('card-' + this.unique),\n                { 'canvasWidth': this.mmToPx(this.width) * 5, 'canvasHeight': this.mmToPx(this.height) * 5 })\n                .then(function (dataUrl) {\n                    (download)(dataUrl, 'card-' + self.unique + '.png');\n                })\n                .catch(function (error) {\n                    console.error('oops, something went wrong!', error);\n                });\n        },\n        pxToMm(px) {\n            var div = document.createElement('div');\n            div.style.display = 'block';\n            div.style.height = '100mm';\n            document.body.appendChild(div);\n            var convert = 100 / div.offsetHeight;\n            convert = px * convert;\n            div.parentNode.removeChild(div);\n            return convert;\n        },\n        mmToPx(mm) {\n            var div = document.createElement('div');\n            div.style.display = 'block';\n            div.style.height = '100mm';\n            document.body.appendChild(div);\n            var convert = div.offsetHeight / 100;\n            convert = mm * convert;\n            div.parentNode.removeChild(div);\n            return convert;\n        },\n        getAbsPos(element) {\n            var top = 0, left = 0;\n            if (!element) {\n                return {x: 0, y: 0};\n            }\n            do {\n                top += element.offsetTop || 0;\n                left += element.offsetLeft || 0;\n                element = element.offsetParent;\n            } while (element);\n\n            return {\n                y: this.pxToMm(top),\n                x: this.pxToMm(left)\n            };\n        },\n        backimageStyle() {\n            if (this.pos && this.backimage) {\n                var ret = `\n                    position: absolute;\n                    top: 0mm;\n                    left: 0mm;\n                `\n                return ret;\n            } else {\n                return \"display: none;\"\n            }\n        },\n        topSuitStyle() {\n            if (this.pos && this.suitoffsetx && this.suitoffsety && this.suitimage) {\n                var ret = `\n                    position: absolute;\n                    top: ${this.suitoffsety - this.suitwidth/2}mm;\n                    left: ${this.suitoffsetx - this.suitwidth/2}mm;\n                `\n                return ret;\n            } else {\n                return \"display: none;\"\n            }\n        },\n        topLetterStyle() {\n            var chk = function(arg) {\n                return arg != undefined;\n            };\n            if (this.pos && chk(this.letteroffsetx) && chk(this.letteroffsety) && chk(this.letterheight)) {\n                var ret = `\n                    position: absolute;\n                    top: ${this.suitoffsety - this.letterheight - this.suitwidth/2}mm;\n                    left: ${this.suitoffsetx - this.suitwidth/2}mm;\n                    font-size: ${this.letterheight}mm;\n                    height: ${this.letterheight}mm;\n                    width: ${this.suitwidth}mm;\n                `\n                return ret;\n            } else {\n                return \"\"\n            }\n        },\n        bottomLetterStyle() {\n            var chk = function(arg) {\n                return arg != undefined;\n            };\n            if (this.pos && chk(this.letteroffsetx) && chk(this.letteroffsety) && chk(this.letterheight)) {\n                var ret = `\n                    position: absolute;\n                    top: ${this.height - this.suitoffsety + this.suitwidth/2}mm;\n                    left: ${this.width - this.suitwidth/2 - this.suitoffsetx}mm;\n                    font-size: ${this.letterheight}mm;\n                    height: ${this.letterheight}mm;\n                    width: ${this.suitwidth}mm;\n                    rotate: 180deg\n                `\n                return ret;\n            } else {\n                return \"\"\n            }\n        },\n        bottomSuitStyle() {\n            if (this.pos != undefined && this.suitoffsetx != undefined && this.suitoffsety != undefined && this.suitimage) {\n                var ret = `\n                    position: absolute;\n                    top: ${this.height - this.suitwidth/2 - this.suitoffsety}mm;\n                    left: ${this.width - this.suitwidth/2 - this.suitoffsetx}mm;\n                    rotate: 180deg;\n                `\n                return ret;\n            } else {\n                return \"display: none;\"\n            }\n        },\n        position() {\n            return this.getAbsPos(document.getElementById('card-' + this.unique));\n        },\n        numberBoxX() {\n            var ret = (this.width - this.numberboxwidth)/2;\n            return ret;\n        },\n        numberBoxY() {\n            return (this.height - this.numberboxheight)/2;\n        },\n        getSuitImageLocationTop() {\n            return {\n                x: this.pos.x + this.suitoffset.x,\n                y: this.pos.y + this.suitoffset.y\n            }\n        },\n        isFace() {\n            return this.value == 'Q' || this.value == 'K' || this.value == 'J' || this.value == 'Joker';\n        },\n    },\n    created() {\n        this.unique = uid;\n        uid++\n    },\n    mounted() {\n        this.pos = this.position();\n    },\n    watch: {\n        output: function (old, newVal) {\n            if (newVal) {\n                this.download()\n            }\n        }\n    },\n}\n</script>\n"],"mappings":";;mBAAA;mBAAA;mBAAA;mBAAA;;;uBAEIA,mBAAA,CAOM;IAPAC,OAAK,EAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAEC,QAAA,CAAAC,QAAQ;IAAKC,EAAE,YAAYC,KAAA,CAAAC,MAAM;IAAGC,KAAK,EAF1DC,eAAA,CAE4DN,QAAA,CAAAO,aAAa;IAAIC,KAAK,EAAC;MAC3EC,mBAAA,CAAkE;IAA7DD,KAAK,EAAC,WAAW;IAAEH,KAAK,EAHrCC,eAAA,CAGuCN,QAAA,CAAAU,cAAc;sBAAOC,MAAA,CAAAC,KAAK,yBACzDH,mBAAA,CAAqE;IAAhED,KAAK,EAAC,WAAW;IAAEH,KAAK,EAJrCC,eAAA,CAIuCN,QAAA,CAAAa,iBAAiB;sBAAOF,MAAA,CAAAC,KAAK,yBACjDD,MAAA,CAAAG,SAAS,I,cAApBlB,mBAAA,CAA8I;IALtJmB,GAAA;IAK+BC,GAAG,EAAEL,MAAA,CAAAG,SAAS;IAAGG,KAAK,EAAEjB,QAAA,CAAAkB,MAAM,MAAMC,SAAS;IAAIC,MAAM,EAAEpB,QAAA,CAAAkB,MAAM,MAAMC,SAAS;IAAGX,KAAK,EAAC,MAAM;IAAEH,KAAK,EALnIC,eAAA,CAKqIN,QAAA,CAAAqB,YAAY;kCALjJC,UAAA,KAAAC,mBAAA,gBAMmBZ,MAAA,CAAAG,SAAS,I,cAApBlB,mBAAA,CAAiJ;IANzJmB,GAAA;IAM+BC,GAAG,EAAEL,MAAA,CAAAG,SAAS;IAAGG,KAAK,EAAEjB,QAAA,CAAAkB,MAAM,MAAMC,SAAS;IAAIC,MAAM,EAAEpB,QAAA,CAAAkB,MAAM,MAAMC,SAAS;IAAGX,KAAK,EAAC,MAAM;IAAEH,KAAK,EANnIC,eAAA,CAMqIN,QAAA,CAAAwB,eAAe;kCANpJC,UAAA,KAAAF,mBAAA,gBAOmBZ,MAAA,CAAAe,SAAS,I,cAApB9B,mBAAA,CAA4H;IAPpImB,GAAA;IAO+BC,GAAG,EAAEL,MAAA,CAAAe,SAAS;IAAGT,KAAK,EAAEjB,QAAA,CAAAkB,MAAM,MAAMD,KAAK;IAAIG,MAAM,EAAEpB,QAAA,CAAAkB,MAAM,MAAME,MAAM;IAAIf,KAAK,EAP/GC,eAAA,CAOiHN,QAAA,CAAA2B,cAAc;kCAP/HC,UAAA,KAAAL,mBAAA,gBAQQM,YAAA,CAAgMC,kBAAA;IAAtLC,CAAC,EAAE/B,QAAA,CAAAgC,UAAU;IAAKC,CAAC,EAAEjC,QAAA,CAAAkC,UAAU;IAAKpB,SAAS,EAAEH,MAAA,CAAAG,SAAS;IAAGqB,MAAM,EAAExB,MAAA,CAAAC,KAAK;IAAGK,KAAK,EAAEN,MAAA,CAAAyB,cAAc;IAAGhB,MAAM,EAAET,MAAA,CAAA0B,eAAe;IAAGC,UAAU,OAAOnB,SAAS,QAAQoB;uHARjLC,UAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}